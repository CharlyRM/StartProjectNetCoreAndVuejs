(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fd2111e"],{"0642":function(e,t,s){},"3e1f":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e.user?s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:9,xs:24}},[s("user-card",{attrs:{user:e.user}})],1),e._v(" "),s("div",[s("el-card",[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("signature",{attrs:{user:e.user}})],1)],1)],1)],1)],1):e._e()])},a=[],i=(s("7f7f"),s("cebc")),o=s("2f62"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.editUser||e.showUserAddition||e.showUserPermission?e._e():s("div",{staticClass:"w3-container"},[s("div",{staticClass:"w3-left"},[s("el-row",[s("el-button",{on:{click:function(t){e.showUserAddition=!0}}},[e._v("Novo")])],1)],1),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"w3-ul w3-card-4"},[0!=e.userGeneral.length||e.processing?e._e():s("el-empty",{attrs:{description:"Nenhuma Conta Adicionado!"}}),e._v(" "),e._l(e.userGeneral,(function(t){return s("li",{staticClass:"w3-bar"},[s("img",{staticClass:"w3-bar-item w3-circle w3-hide-small",staticStyle:{width:"95px"},attrs:{src:t.avatar}}),e._v(" "),s("div",{staticClass:"w3-bar-item"},[s("span",{staticClass:"w3-large"},[e._v(e._s(t.name))]),s("br"),e._v(" "),"S"==t.administrator?s("span",[e._v("admin")]):e._e()]),e._v(" "),s("div",{staticClass:"w3-right"},[s("el-row",[s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"Editar usuário."}},[s("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(s){return e.SelectUser(t)}},slot:"reference"})],1),e._v(" "),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(s){return e.deleteUserSelected(t.idUser)}}})],1)],1)])}))],2),s("br")]),e._v(" "),e.showUserAddition||e.showUserEdition?s("el-form",{attrs:{model:e.user}},[s("el-form-item",{attrs:{label:"Nome"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"100"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{attrs:{type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),e.showUserAddition?s("div",[s("el-form-item",{attrs:{label:"Senha"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Confirmar Senha"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1):e._e(),e._v(" "),e.showUserEdition?s("div",[e.alterPassword?s("el-form-item",{attrs:{label:"Senha Atual"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.userPassword,callback:function(t){e.userPassword=t},expression:"userPassword"}})],1):e._e(),e._v(" "),e.alterPassword?s("el-form-item",{attrs:{label:"Nova Senha"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1):e._e(),e._v(" "),e.alterPassword?s("el-form-item",{attrs:{label:"Confirmar Senha"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1):e._e()],1):e._e(),e._v(" "),e.alterPassword?e._e():s("p",[s("b",[s("a",{staticClass:"esqueci-password",on:{click:function(t){e.alterPassword=!0}}},[e._v("Mudar senha")])])]),e._v(" "),e.alterPassword?s("p",[s("b",[s("a",{staticClass:"esqueci-password",on:{click:function(t){e.alterPassword=!1}}},[e._v("Cancelar")])])]):e._e(),e._v(" "),s("div",[s("el-form-item",[s("el-checkbox",{model:{value:e.userAdditionAdministrator,callback:function(t){e.userAdditionAdministrator=t},expression:"userAdditionAdministrator"}},[e._v("Administrador")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",round:""},on:{click:e.saveUser}},[e._v("Salvar")]),e._v(" "),e.showUserAddition?s("el-button",{attrs:{type:"info",round:""},on:{click:e.CancelAddingUser}},[e._v("Cancelar")]):e._e(),e._v(" "),e.showUserEdition?s("el-button",{attrs:{type:"info",round:""},on:{click:e.CancelUsername}},[e._v("Cancelar")]):e._e()],1)],1):e._e()],1)},c=[],l=s("3d20"),u=s.n(l),d=s("c24f"),m=s("5f87"),p={name:"Accounts",data:function(){return{user:{idUser:0,name:"",email:"",password:"",avatar:"",status:0,administrator:"",alterPassword:"N"},alterPassword:!1,userPassword:"",newPassword:"",confirmPassword:"",editUser:!1,userGeneral:[],userSelect:[],processing:!1,showUserEdition:!1,showUserAddition:!1,showUserPermission:!1,userEditionAdministrator:!1,userAdditionAdministrator:!1}},created:function(){this.process()},methods:{process:function(){var e=this;this.processing=!0,Object(d["d"])().then((function(t){for(var s=[],r=Object(m["a"])(),a=Object.assign([],t.data.users),i=0;i<a.length;i++)r!=a[i].email&&s.push(a[i]);e.userGeneral=Object.assign([],s)})).catch((function(e){console.log(e)})),this.processing=!1},CancelUsername:function(){this.showUserEdition=!1,this.showUserAddition=!1,this.editUser=!1},CancelAddingUser:function(){this.showUserAddition=!1},CancelSelectionUser:function(){this.editUser=!1,this.showUserPermission=!1},SelectUser:function(e){this.user.idUser=e.idUser,this.user.name=e.name,this.user.email=e.email,this.user.password=e.password,this.user.avatar=e.avatar,this.user.status=e.status,this.user.administrator=e.administrator,this.showUserEdition=!0,this.editUser=!0},saveUser:function(){var e=this;if(""!=this.user.name)if(""!=this.user.email){if(this.alterPassword||!this.editUser){if(""==this.user.password)return void this.$notify({title:"Verifique o campo",message:"A senha deve ser inserida!",type:"warning",position:"bottom-right"});if(this.user.password.lenght<6)return void this.$notify({title:"Verifique o campo",message:"A senha deve conter pelo menos 6 caracteres!",type:"warning",position:"bottom-right"});if(this.confirmPassword.lenght<6)return void this.$notify({title:"Verifique o campo",message:"A senha de confirmação deve conter pelo menos 6 caracteres!",type:"warning",position:"bottom-right"});if(""==this.confirmPassword)return void this.$notify({title:"Verifique o campo",message:"A confirmação da senha do usuário deve ser digitada!",type:"warning",position:"bottom-right"});if(this.user.password!=this.confirmPassword)return void this.$notify({title:"Verifique o campo",message:"A confirmação da senha está incorreta!",type:"warning",position:"bottom-right"})}this.editUser&&this.alterPassword?this.user.alterPassword="S":this.user.alterPassword="N",u.a.fire({title:"Você quer salvar?",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then((function(t){t.value&&(e.editUser?(e.userEditionAdministrator?e.user.administrator="S":e.user.administrator="N",Object(d["g"])(e.user).then((function(){u.a.fire({title:"Usuário alterado com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(t){t.value&&(e.CancelUsername(),e.process())}))})).catch((function(t){e.$notify.error({title:"Problema na requisição",message:"Não foi possível alterar o usuário!",position:"bottom-right"})}))):(e.userAdditionAdministrator?e.user.administrator="S":e.user.administrator="N",Object(d["h"])(e.user).then((function(t){u.a.fire({title:"Usuário inserido com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(t){t.value&&(e.user={idUser:0,name:"",email:"",password:"",avatar:"",status:0,administrator:""},e.confirmPassword=""),e.CancelAddingUser(),e.process()}))})).catch((function(t){e.$notify.error({title:"Problema na requisição",message:"Não foi possível salvar o usuário!",position:"bottom-right"})}))))}))}else this.$notify({title:"Verifique o campo",message:"O e-mail deve ser inserido!",type:"warning",position:"bottom-right"});else this.$notify({title:"Verifique o campo",message:"O nome deve ser inserido!",type:"warning",position:"bottom-right"})},deleteUserSelected:function(e){var t=this;void 0!=e&&u.a.fire({title:"Você quer deletar o usuário",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then((function(s){s.value&&Object(d["a"])(e).then((function(e){u.a.fire({title:"Excluído com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(e){e.value&&(t.CancelUsername(),t.process())}))})).catch((function(e){t.$notify.error({title:"Error",message:"Ocorreu um erro ao excluir o usuário!"})}))}))}}},f=p,h=(s("7cd0"),s("2877")),v=Object(h["a"])(f,n,c,!1,null,"4741c236",null),w=v.exports,b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"block"},[s("el-form",{staticClass:"w3-center"},[s("div",{staticClass:"w3-third w3-margin-bottom"},[s("el-col",{attrs:{span:24}},["S"==e.user.licenceValid&&"N"==e.user.licenceTrial?s("el-card",{attrs:{shadow:"hover"}},[s("h4",[s("span",{staticClass:"price",staticStyle:{color:"green"}},[s("b",[e._v("Licença Válida ")])])]),e._v(" "),s("h6",[e._v("Vencimento dia "+e._s(e.user.dateLicenceExpiration))])]):e._e(),e._v(" "),"S"==e.user.licenceValid&&"S"==e.user.licenceTrial?s("el-card",{attrs:{shadow:"hover"}},[s("h4",[s("span",{staticClass:"price",staticStyle:{color:"green"}},[s("b",[e._v("Periodo de Teste 7 Dias")])])]),e._v(" "),s("h6",[e._v("Até dia "+e._s(e.user.dateLicenceExpiration))])]):e._e(),e._v(" "),"N"==e.user.licenceValid?s("el-card",{attrs:{shadow:"hover"}},[s("h4",[s("span",{staticClass:"price",staticStyle:{color:"red"}},[s("b",[e._v("Licença expirada! ")])])]),e._v(" "),s("h6",[e._v("Vencida dia "+e._s(e.user.dateLicenceExpiration))])]):e._e()],1)],1)]),s("br")],1)},_=[],g={name:"Signature",props:{user:{}},data:function(){return{paymentUser:{idLastPaymentUser:0,idUser:0,dateLastPayment:"",quantitiesDaysLicence:"",paymentConfirmed:"",idSubscriptionPaypal:"",statusPaypal:"",linkPaypalApprove:"",linkPaypalEdit:"",linkPaypalSelf:"",dateRegister:""},user:{}}},methods:{addSignaturePayment:function(){var e=this;Object(d["c"])(this.user.idUser).then((function(t){e.paymentUser=t.data.subscription,open(e.paymentUser.linkPaypalApprove)})).catch((function(e){}))}}},y=g,U=Object(h["a"])(y,b,_,!1,null,null,null),P=U.exports,C={name:"Profile",components:{Accounts:w,Signature:P},data:function(){return{user:{},activeTab:"signature",idUser:0}},computed:Object(i["a"])({},Object(o["b"])(["email","name","avatar","roles","token"])),created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(d["b"])(Object(m["a"])()).then((function(t){var s=!1;s=1==t.data.user.status,e.user={idUser:t.data.user.idUser,name:e.name,email:t.data.user.email,password:t.data.user.password,newPassword:"",avatar:e.avatar,status:s,dateLicenceExpiration:t.data.user.dateLicenceExpiration.slice(0,10),licenceValid:t.data.user.licenceValid,licenceTrial:t.data.user.licenceTrial,administrator:t.data.user.administrator,codeLastPayment:t.data.user.codeLastPayment,paymentConfirmed:t.data.user.paymentConfirmed,roles:e.roles.join(" | ")}})).catch((function(e){console.log(e)}))}}},x=C,A=Object(h["a"])(x,r,a,!1,null,null,null);t["default"]=A.exports},"7cd0":function(e,t,s){"use strict";var r=s("0642"),a=s.n(r);a.a}}]);