(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6519b1c0"],{1156:function(o,t,i){"use strict";var a=i("a69f"),s=i.n(a);s.a},"6ba4":function(o,t,i){"use strict";i.r(t);var a=function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("div",[o.mostrarEdicaoUsuario?o._e():i("div",{staticClass:"app-container"},[0!=o.usuarioFiltrado.length||o.processando?o._e():i("el-card",{staticClass:"box-card"},[i("p",[o._v("Nenhum Usuário Encontrado! ")])]),o._v(" "),i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[i("div",{attrs:{align:"right"}},[o.processando?o._e():i("el-row",{staticStyle:{"margin-right":"20px"}},[i("el-button",{attrs:{type:"success",icon:"el-icon-plus",circle:""},on:{click:o.abrirNovoUsuario}}),o._v(" "),i("el-button",{attrs:{type:"info",icon:"el-icon-refresh",circle:""},on:{click:o.processar}})],1),o._v(" "),o.usuarioFiltrado.length>0&&!o.processando?i("el-table",{staticStyle:{width:"100%",cursor:"pointer"},attrs:{data:o.usuarioFiltrado.filter(function(t){return!o.pesquisa||t.nome.toLowerCase().includes(o.pesquisa.toLowerCase())})}},[i("el-table-column",{attrs:{label:"Código",prop:"idUsuario"}}),o._v(" "),i("el-table-column",{attrs:{label:"Nome",prop:"nome"}}),o._v(" "),i("el-table-column",{attrs:{align:"right"},scopedSlots:o._u([{key:"header",fn:function(t){return[i("el-input",{attrs:{size:"mini",placeholder:"Pesquisar Nome"},model:{value:o.pesquisa,callback:function(t){o.pesquisa=t},expression:"pesquisa"}})]}},{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini"},on:{click:function(i){return o.selecionarUsuario(t.row)}}},[o._v("Editar")]),o._v(" "),i("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(i){return o.excluirUsuario(t.row)}}},[o._v("Excluir")])]}}],null,!1,3046817775)})],1):o._e()],1)])],1)],1),o._v(" "),o.processando?i("div",[i("img",{staticClass:"emptyGif",attrs:{src:"http://themenectar.com/docs/salient/wp-content/uploads/2016/10/basicloader.gif"}})]):o._e(),o._v(" "),o.mostrarEdicaoUsuario?i("div",[i("div",{staticClass:"app-container",attrs:{align:"right"}},[i("el-button",{attrs:{type:"danger",icon:"el-icon-back",circle:""},on:{click:function(t){o.mostrarEdicaoUsuario=!1}}})],1),o._v(" "),i("editar",{attrs:{usuarioParametro:o.usuarioSelecionado}})],1):o._e()])},s=[],e=i("bc3a"),r=i.n(e),u=function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("div",{staticClass:"app-container"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{xs:24,sm:18,md:18,lg:18,xl:18}},[i("el-form",{ref:"form",attrs:{model:o.usuario,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"Status"}},[i("el-switch",{model:{value:o.usuario.status,callback:function(t){o.$set(o.usuario,"status",t)},expression:"usuario.status"}})],1),o._v(" "),i("el-form-item",{attrs:{label:"Nome"}},[i("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"100"},model:{value:o.usuario.nome,callback:function(t){o.$set(o.usuario,"nome",t)},expression:"usuario.nome"}})],1),o._v(" "),i("el-form-item",{attrs:{label:"CPF"}},[i("el-input",{directives:[{name:"mask",rawName:"v-mask",value:["###.###.###-##"],expression:"['###.###.###-##']"}],staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20"},model:{value:o.usuario.cpf,callback:function(t){o.$set(o.usuario,"cpf",t)},expression:"usuario.cpf"}})],1),o._v(" "),i("el-form-item",{attrs:{label:"Autorização"}},[i("el-select",{attrs:{placeholder:"Selecione"},model:{value:o.usuario.autorizacao,callback:function(t){o.$set(o.usuario,"autorizacao",t)},expression:"usuario.autorizacao"}},[i("el-option",{attrs:{label:"Gerente",value:"GER"}}),o._v(" "),i("el-option",{attrs:{label:"Atendente",value:"ATE"}})],1)],1),o._v(" "),i("el-form-item",{attrs:{label:"Senha"}},[i("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:o.usuario.senha,callback:function(t){o.$set(o.usuario,"senha",t)},expression:"usuario.senha"}})],1),o._v(" "),i("el-form-item",{attrs:{label:"Confirmar"}},[i("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:o.usuario.senha,callback:function(t){o.$set(o.usuario,"senha",t)},expression:"usuario.senha"}})],1),o._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:o.salvarUsuario}},[o._v("Salvar")])],1)],1)],1),o._v(" "),i("el-col",{attrs:{xs:24,sm:6,md:6,lg:6,xl:6}},[i("el-col",{attrs:{span:20}},[i("el-card",{attrs:{"body-style":{padding:"30px"}}},[i("img",{staticClass:"image",attrs:{src:"https://pickaface.net/gallery/avatar/20150725_102855_1820_Business.png"}}),o._v(" "),i("div",{staticStyle:{padding:"14px"}},["GER"==o.usuario.autorizacao?i("span",[o._v("Gerente")]):i("span",[o._v("Atendente")]),o._v(" "),i("div",{staticClass:"bottom clearfix"},[i("time",{staticClass:"time"},[o._v("Código : 34")])])])])],1)],1)],1)],1)},n=[],c=i("3d20"),l=i.n(c),m={props:{usuarioParametro:[]},data:function(){return{usuario:{idFuncionario:0,idEmpresa:0,nome:"",cpf:"",senha:"",autorizacao:"",status:!1,primeiroAcesso:0,administrador:0},editandoUsuario:!1,usuarioFiltrado:[],usuarioSelecionado:[],mostrarEdicaoUsuario:!1}},created:function(){this.usuario.idFuncionario=0,this.usuario.idEmpresa=0,this.usuario.nome="",this.usuario.cpf="",this.usuario.senha="",this.usuario.autorizacao="",this.usuario.status=1},mounted:function(){null!=this.usuarioParametro&&(this.usuarioSelecionado=this.usuarioParametro,this.usuario.idFuncionario=this.usuarioSelecionado[0].idFuncionario,this.usuario.idEmpresa=this.usuarioSelecionado[0].idEmpresa,this.usuario.nome=this.usuarioSelecionado[0].nome,this.usuario.cpf=this.usuarioSelecionado[0].cpf,this.usuario.sexo=this.usuarioSelecionado[0].sexo,this.usuario.observacao=this.usuarioSelecionado[0].observacao,this.usuario.senha=this.usuarioSelecionado[0].senha,this.usuario.autorizacao=this.usuarioSelecionado[0].autorizacao,this.usuario.status=this.usuarioSelecionado[0].status,this.editandoUsuario=!0)},methods:{salvarUsuario:function(){var o=this;""!=this.usuario.nome?""!=this.usuario.cpf?""!=this.usuario.senha?""!=this.usuario.autorizacao?l.a.fire({title:"Deseja salvar?",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(function(t){t.value&&(o.editandoUsuario?r.a.put("http://localhost:7770/api/funcionario",JSON.stringify({idFuncionario:o.usuario.idFuncionario,idEmpresa:o.usuario.idEmpresa,nome:o.usuario.nome,cpf:o.usuario.cpf,senha:o.usuario.senha,autorizacao:o.usuario.autorizacao,status:o.usuario.status}),{headers:{"Content-Type":"application/json"}}).then(function(o){200==o.status?l.a.fire({title:"Alterações salva com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(o){o.value&&window.location.reload()}):404==o.status&&this.$notify.error({title:"Problema na requisição",message:"Não foi possivel salvar o usuário!",position:"bottom-right"})}).catch(function(o){this.$notify.error({title:"Problema na requisição",message:"Ocorreu um erro ao salvar o usuário!",position:"bottom-right"})}):r.a.post("http://localhost:7770/api/funcionario",JSON.stringify({idFuncionario:o.usuario.idFuncionario,idEmpresa:o.usuario.idEmpresa,nome:o.usuario.nome,cpf:o.usuario.cpf,senha:o.usuario.senha,autorizacao:o.usuario.autorizacao,status:o.usuario.status}),{headers:{"Content-Type":"application/json"}}).then(function(o){200==o.status?l.a.fire({title:"Usuário salvo com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(o){o.value&&window.location.reload()}):404==o.status&&this.$notify.error({title:"Problema na requisição",message:"Não foi possivel salvar o usuário!",position:"bottom-right"})}).catch(function(o){this.$notify.error({title:"Problema na requisição",message:"Ocorreu um erro ao salvar o usuário!",position:"bottom-right"})}))}):this.$notify({title:"Verifique o campo",message:"É necessário selecionar o autorização do usuário!",type:"warning",position:"bottom-right"}):this.$notify({title:"Verifique o campo",message:"É necessário inserir a senha do usuário!",type:"warning",position:"bottom-right"}):this.$notify({title:"Verifique o campo",message:"É necessário inserir o CPF do usuário!",type:"warning",position:"bottom-right"}):this.$notify({title:"Verifique o campo",message:"É necessário inserir o nome do usuário!",type:"warning",position:"bottom-right"})}}},d=m,p=(i("1156"),i("2877")),h=Object(p["a"])(d,u,n,!1,null,"2715ad4e",null),f=h.exports,v={components:{editar:f},data:function(){return{pesquisa:"",usuario:{idUsuario:0,idEmpresa:0,nome:"",cpf:"",sexo:"",observacao:"",senha:"",autorizacao:"",status:1,primeiroAcesso:0,administrador:0},usuarioGeral:[],usuarioFiltrado:[],usuarioSelecionado:[],processando:!1,mostrarEdicaoUsuario:!1}},created:function(){this.processar()},methods:{processar:function(){var o=this;this.processando=!0,r.a.get("http://localhost:7770/api/usuario").then(function(t){if(200==t.status)o.usuario={},o.usuarioGeral=Object.assign([],t.data),o.usuarioFiltrado=Object.assign([],o.usuarioGeral);else if(404==t.status)return void o.$notify.info({title:"Resultado da Pesquisa",message:"Nenhum usuário foi encontrado",position:"bottom-right"});o.processando=!1})},abrirNovoUsuario:function(){this.usuario.idUsuario=0,this.usuario.idEmpresa=0,this.usuario.nome="",this.usuario.cpf="",this.usuario.sexo="",this.usuario.observacao="",this.usuario.senha="",this.usuario.autorizacao="",this.usuario.status=1,this.mostrarEdicaoUsuario=!0},excluirUsuario:function(o){var t=this;l.a.fire({title:"Deseja excluir o usuário",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Sim",cancelButtonText:"Cancelar"}).then(function(i){i.value&&r.a.delete("http://localhost:7770/api/usuario/"+o.idUsuario).then(function(o){if(200==o.status)l.a.fire({title:"Usuário excluido com sucesso!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then(function(o){o.value&&window.location.reload()});else if(404==o.status)return void t.$notify.error({title:"Problema na requisição",message:"Não foi possivel excluir o usuário!",position:"bottom-right"})}).catch(function(o){t.$notify.error({title:"Problema na requisição",message:"Ocorreu um erro ao excluir o usuário!",position:"bottom-right"})})})},selecionarUsuario:function(o){var t=this;void 0!=o&&r.a.get("http://localhost:7770/api/usuario/"+o.idUsuario).then(function(o){if(200==o.status)t.usuario={},t.usuarioSelecionado=Object.assign([],o.data),t.mostrarEdicaoUsuario=!0;else if(404==o.status)return void t.$notify.info({title:"Resultado da Pesquisa",message:"O usuário não foi encontrado!",position:"bottom-right"})}).catch(function(o){t.$notify.error({title:"Problema na requisição",message:"Ocorreu um erro ao buscar o usuário!",position:"bottom-right"})})}}},b=v,g=(i("e39d"),Object(p["a"])(b,a,s,!1,null,"cde01e08",null));t["default"]=g.exports},a69f:function(o,t,i){},e39d:function(o,t,i){"use strict";var a=i("f7bf"),s=i.n(a);s.a},f7bf:function(o,t,i){}}]);