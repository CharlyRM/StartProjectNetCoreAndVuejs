(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7acf75ca"],{"8f27":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e.user?s("div",[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:9,xs:24}},[s("user-card",{attrs:{user:e.user}})],1),e._v(" "),s("el-col",{attrs:{span:15,xs:24}},[s("el-card",[s("el-tabs",{model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("el-tab-pane",{attrs:{label:"Manage Accounts",name:"accounts"}},[s("accounts")],1)],1)],1)],1)],1)],1):e._e()])},a=[],i=(s("7f7f"),s("cebc")),o=s("2f62"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.editUser||e.showUserAddition||e.showUserPermission?e._e():s("div",{staticClass:"w3-container"},[s("div",{staticClass:"w3-left"},[s("el-row",[s("el-button",{on:{click:function(t){e.showUserAddition=!0}}},[e._v("New")])],1)],1),s("br"),s("br"),e._v(" "),s("ul",{staticClass:"w3-ul w3-card-4"},[0!=e.userGeneral.length||e.processing?e._e():s("el-card",{staticClass:"box-card"},[s("p",[e._v("No registered users yet! ")])]),e._v(" "),e._l(e.userGeneral,(function(t){return s("li",{staticClass:"w3-bar"},[s("img",{staticClass:"w3-bar-item w3-circle w3-hide-small",staticStyle:{width:"95px"},attrs:{src:t.avatar}}),e._v(" "),s("div",{staticClass:"w3-bar-item"},[s("span",{staticClass:"w3-large"},[e._v(e._s(t.name))]),s("br"),e._v(" "),"S"==t.administrator?s("span",[e._v("admin")]):e._e()]),e._v(" "),s("div",{staticClass:"w3-right"},[s("el-row",[s("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover",content:"Editar usu√°rio."}},[s("el-button",{attrs:{slot:"reference",type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(s){return e.SelectUser(t)}},slot:"reference"})],1),e._v(" "),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(s){return e.deleteUserSelected(t.idUser)}}})],1)],1)])}))],2),s("br")]),e._v(" "),e.showUserAddition||e.showUserEdition?s("el-form",{attrs:{model:e.user}},[s("el-form-item",{attrs:{label:"name"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"100"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Email"}},[s("el-input",{attrs:{type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),e.showUserAddition?s("div",[s("el-form-item",{attrs:{label:"Senha"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"Confirmar Senha"}},[s("el-input",{staticStyle:{"text-transform":"uppercase"},attrs:{maxlength:"20",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1):e._e(),e._v(" "),e.showUserEdition?s("div",[e.alterPassword?s("el-form-item",{attrs:{label:"Senha Atual"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.userPassword,callback:function(t){e.userPassword=t},expression:"userPassword"}})],1):e._e(),e._v(" "),e.alterPassword?s("el-form-item",{attrs:{label:"Nova Senha"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.newPassword,callback:function(t){e.newPassword=t},expression:"newPassword"}})],1):e._e(),e._v(" "),e.alterPassword?s("el-form-item",{attrs:{label:"Confirmar Senha"}},[s("el-input",{attrs:{maxlength:"20",type:"password"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1):e._e()],1):e._e(),e._v(" "),e.alterPassword?e._e():s("p",[s("b",[s("a",{staticClass:"esqueci-password",on:{click:function(t){e.alterPassword=!0}}},[e._v("Change password")])])]),e._v(" "),e.alterPassword?s("p",[s("b",[s("a",{staticClass:"esqueci-password",on:{click:function(t){e.alterPassword=!1}}},[e._v("Cancel")])])]):e._e(),e._v(" "),s("div",[s("el-form-item",[s("el-checkbox",{model:{value:e.userAdditionAdministrator,callback:function(t){e.userAdditionAdministrator=t},expression:"userAdditionAdministrator"}},[e._v("Administrator")])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",round:""},on:{click:e.saveUser}},[e._v("Save")]),e._v(" "),e.showUserAddition?s("el-button",{attrs:{type:"info",round:""},on:{click:e.CancelAddingUser}},[e._v("Cancel")]):e._e(),e._v(" "),e.showUserEdition?s("el-button",{attrs:{type:"info",round:""},on:{click:e.CancelUsername}},[e._v("Cancel")]):e._e()],1)],1):e._e()],1)},c=[],l=s("3d20"),u=s.n(l),d=s("c24f"),m=s("5f87"),f={name:"Accounts",data:function(){return{user:{idUser:0,name:"",email:"",password:"",avatar:"",status:0,administrator:"",alterPassword:"N"},alterPassword:!1,userPassword:"",newPassword:"",confirmPassword:"",editUser:!1,userGeneral:[],userSelect:[],processing:!1,showUserEdition:!1,showUserAddition:!1,showUserPermission:!1,userEditionAdministrator:!1,userAdditionAdministrator:!1}},created:function(){this.process()},methods:{process:function(){var e=this;this.processing=!0,Object(d["c"])().then((function(t){for(var s=[],r=Object(m["a"])(),a=Object.assign([],t.data.users),i=0;i<a.length;i++)r!=a[i].email&&s.push(a[i]);e.userGeneral=Object.assign([],s)})).catch((function(e){console.log(e)})),this.processing=!1},CancelUsername:function(){this.showUserEdition=!1,this.showUserAddition=!1,this.editUser=!1},CancelAddingUser:function(){this.showUserAddition=!1},CancelSelectionUser:function(){this.editUser=!1,this.showUserPermission=!1},SelectUser:function(e){this.user.idUser=e.idUser,this.user.name=e.name,this.user.email=e.email,this.user.password=e.password,this.user.avatar=e.avatar,this.user.status=e.status,this.user.administrator=e.administrator,this.showUserEdition=!0,this.editUser=!0},saveUser:function(){var e=this;if(""!=this.user.name)if(""!=this.user.email){if(this.alterPassword||!this.editUser){if(""==this.user.password)return void this.$notify({title:"Check the field",message:"Password must be entered!",type:"warning",position:"bottom-right"});if(this.user.password.lenght<6)return void this.$notify({title:"Check the field",message:"A password must contain at least 6 characters!",type:"warning",position:"bottom-right"});if(this.confirmPassword.lenght<6)return void this.$notify({title:"Check the field",message:"The confirmation password must contain at least 6 characters!",type:"warning",position:"bottom-right"});if(""==this.confirmPassword)return void this.$notify({title:"Check the field",message:"User password confirmation must be entered!",type:"warning",position:"bottom-right"});if(this.user.password!=this.confirmPassword)return void this.$notify({title:"Check the field",message:"Password confirmation is incorrect!",type:"warning",position:"bottom-right"})}this.editUser&&this.alterPassword?this.user.alterPassword="S":this.user.alterPassword="N",u.a.fire({title:"Do you want to save?",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then((function(t){t.value&&(e.editUser?(e.userEditionAdministrator?e.user.administrator="S":e.user.administrator="N",Object(d["f"])(e.user).then((function(){u.a.fire({title:"User changed successfully!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(t){t.value&&(e.CancelUsername(),e.process())}))})).catch((function(t){e.$notify.error({title:"Request problem",message:"It was not possible to change the User!",position:"bottom-right"})}))):(e.userAdditionAdministrator?e.user.administrator="S":e.user.administrator="N",Object(d["g"])(e.user).then((function(t){u.a.fire({title:"User successfully inserted!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(t){t.value&&(e.user={idUser:0,name:"",email:"",password:"",avatar:"",status:0,administrator:""},e.confirmPassword=""),e.CancelAddingUser(),e.process()}))})).catch((function(t){e.$notify.error({title:"Request problem",message:"Could not save User!",position:"bottom-right"})}))))}))}else this.$notify({title:"Check the field",message:"Email must be entered!",type:"warning",position:"bottom-right"});else this.$notify({title:"Check the field",message:"Name must be entered!",type:"warning",position:"bottom-right"})},deleteUserSelected:function(e){var t=this;void 0!=e&&u.a.fire({title:"Do you want to delete the user",type:"question",showCancelButton:!0,confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Yes",cancelButtonText:"Cancel"}).then((function(s){s.value&&Object(d["a"])(e).then((function(e){u.a.fire({title:"Successfully deleted!",type:"success",confirmButtonColor:"#008080",cancelButtonColor:"#d33",confirmButtonText:"Ok"}).then((function(e){e.value&&(t.CancelUsername(),t.process())}))})).catch((function(e){t.$notify.error({title:"Error",message:"There was an error deleting the user!"})}))}))}}},h=f,p=(s("f2dc"),s("2877")),w=Object(p["a"])(h,n,c,!1,null,"91fa4992",null),v=w.exports,b={name:"Profile",components:{Accounts:v},data:function(){return{user:{},activeTab:"accounts",idUser:0}},computed:Object(i["a"])({},Object(o["b"])(["email","name","avatar","roles","token"])),created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(d["b"])(Object(m["a"])()).then((function(t){var s=!1;s=1==t.data.user.status,e.user={idUser:t.data.user.idUser,name:e.name,email:t.data.user.email,password:t.data.user.password,newPassword:"",avatar:e.avatar,status:s,administrator:t.data.user.administrator,roles:e.roles.join(" | ")}})).catch((function(e){console.log(e)}))}}},g=b,U=Object(p["a"])(g,r,a,!1,null,null,null);t["default"]=U.exports},d0aa:function(e,t,s){},f2dc:function(e,t,s){"use strict";var r=s("d0aa"),a=s.n(r);a.a}}]);